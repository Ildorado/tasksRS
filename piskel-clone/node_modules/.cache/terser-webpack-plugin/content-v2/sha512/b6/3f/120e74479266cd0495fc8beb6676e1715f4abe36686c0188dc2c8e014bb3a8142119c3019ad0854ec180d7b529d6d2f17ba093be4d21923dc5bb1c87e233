{"code":"!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t){const n=document.getElementById(\"canvas\"),r=document.querySelector(\".mainColor\"),i=(document.querySelector(\".secondColor\"),n.getContext(\"2d\")),l=\"lightgray\";i.fillStyle=l,i.fillRect(0,0,n.width,n.height);const c=document.querySelector(\".main__frames\"),o=document.querySelector(\".addNewFrame\");let s=[],a=1;function u(){const e=n.toDataURL(),t=new Image;t.src=e,s[a-1]?s[a-1]=t:s.push(t),c.children[a-1].style.backgroundImage=`url(${e})`}function d(e){u();const t=s[e-1];a=e,i.clearRect(0,0,n.width,n.height),i.drawImage(t,0,0)}o.addEventListener(\"click\",function(){u();const e=document.querySelector(\".frame\").cloneNode(!0);e.classList.contains(\"firstFrame\")&&e.classList.remove(\"firstFrame\"),e.children[0].innerText=Number(c.children[c.children.length-2].children[0].innerText)+1,c.insertBefore(e,c.children[c.children.length-1]),a=c.children.length-1,i.clearRect(0,0,n.width,n.height),i.fillStyle=l,i.fillRect(0,0,n.width,n.height),d(a)}),c.addEventListener(\"click\",function(e){e.target.classList.contains(\"numberOfFrame\")?d(Number(e.target.innerText)):e.target.classList.contains(\"frame\")?d(Number(e.target.children[0].innerText)):e.target.classList.contains(\"duplicateIcon\")?function(e){const t=Number(e.target.parentElement.children[0].innerText),r=document.querySelectorAll(\".frame\")[t-1].cloneNode(!0);r.classList.contains(\"firstFrame\")&&r.classList.remove(\"firstFrame\"),i.clearRect(0,0,n.width,n.height),r.children[0].innerText=c.children.length,c.insertBefore(r,c.children[c.children.length-1]),a=c.children.length-1,i.drawImage(s[t-1],0,0),u()}(e):e.target.classList.contains(\"deleteIcon\")&&function(e){if(c.children.length>2){const t=Number(e.target.parentElement.children[0].innerText);t===a?s.length===a?d(a-1):s.length>a&&(d(a+1),a-=1):t<a&&(a-=1),c.children[t-1].remove(),s.splice(t-1,1);for(let e=0;e<c.children.length-1;e+=1)c.children[e].classList.contains(\"frame\")&&(c.children[e].children[0].innerText=e+1)}}(e)}),u();const f=document.querySelector(\".FPS\");let m=null;const h=document.querySelector(\".showAnimation\");let g=0;function p(e,t){h.innerHTML=\"\",e[g].classList.contains(\"AnimationImg\")||e[g].classList.add(\"AnimationImg\"),h.appendChild(e[g]),g===e.length-1?!function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n+=1)if(e[n]!==t[n])return!1;return!0}(e,s)||t!==f.value?(g=0,v()):g=0:g+=1}function v(){const e=s.slice();let t=f.value;t<1?t=1:t>24&&(t=24),clearInterval(m),m=window.setInterval(p,1e3/t,e,t)}v(),document.querySelector(\".FullscreenButton\").addEventListener(\"click\",function(){\"\"!==h.innerHTML&&h.requestFullscreen()});const y=document.querySelector(\".size-picker-container\");let L=1,b=y.children[0];y.addEventListener(\"click\",function(e){e.target.parentElement===y&&(L=e.target.attributes[1].value,b.classList.remove(\"selected\"),(b=e.target).classList.add(\"selected\"))});const S=document.querySelector(\".main__pallete__tool-picker\");let w=[];let x=!1,E=0,q=0,T=n.clientWidth/n.width;function k(e){E=e.offsetX,q=e.offsetY}function _(e){k(e),x=!0}function I(e){!0===x&&(P(i,E,q,e.offsetX,e.offsetY),k(e))}function F(e){!0===x&&(P(i,E,q,e.offsetX,e.offsetY),E=0,q=0,x=!1)}function P(e,t,n,i,l){e.beginPath(),e.strokeStyle=r.value,e.lineWidth=L,e.moveTo(t/T,n/T),e.lineTo(i/T,l/T),e.stroke(),e.closePath()}S.addEventListener(\"click\",function(e){if(e.target.parentElement===S)switch(e.target.classList[1]){case\"pen\":n.addEventListener(\"mousedown\",_),n.addEventListener(\"mousemove\",I),n.addEventListener(\"mouseup\",F),w.push([\"mousedown\",_]),w.push([\"mousemove\",I]),w.push([\"mouseup\",F]);break;case\"fillAllPixels\":i.fillStyle=r.value,i.fillRect(0,0,n.width,n.height);break;default:console.log(\"Error\")}});document.querySelector(\".mouseLocation\");document.addEventListener(\"mousemove\",function(){}),document.querySelector(\"frame\")}]);","extractedComments":[]}