{"code":"!function(e){var t={};function n(r){if(t[r])return t[r].exports;var c=t[r]={i:r,l:!1,exports:{}};return e[r].call(c.exports,c,c.exports,n),c.l=!0,c.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var c in e)n.d(r,c,function(t){return e[t]}.bind(null,c));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t,n){\"use strict\";n.r(t);const r=document.getElementById(\"canvas\"),c=document.querySelector(\".mainColor\"),l=(document.querySelector(\".secondColor\"),r.getContext(\"2d\")),o=\"lightgray\";l.fillStyle=o,l.fillRect(0,0,r.width,r.height);const i=document.querySelector(\".main__frames\"),s=document.querySelector(\".addNewFrame\");let a=[],u=1;function d(){const e=r.toDataURL(),t=new Image;t.src=e,a[u-1]?a[u-1]=t:a.push(t),i.children[u-1].style.backgroundImage=`url(${e})`}function f(e){d();const t=a[e-1];u=e,l.clearRect(0,0,r.width,r.height),l.drawImage(t,0,0)}s.addEventListener(\"click\",function(){d();const e=document.querySelector(\".frame\").cloneNode(!0);e.classList.contains(\"firstFrame\")&&e.classList.remove(\"firstFrame\"),e.children[0].innerText=Number(i.children[i.children.length-2].children[0].innerText)+1,i.insertBefore(e,i.children[i.children.length-1]),u=i.children.length-1,l.clearRect(0,0,r.width,r.height),l.fillStyle=o,l.fillRect(0,0,r.width,r.height),f(u)}),i.addEventListener(\"click\",function(e){e.target.classList.contains(\"numberOfFrame\")?f(Number(e.target.innerText)):e.target.classList.contains(\"frame\")?f(Number(e.target.children[0].innerText)):e.target.classList.contains(\"duplicateIcon\")?function(e){const t=Number(e.target.parentElement.children[0].innerText),n=document.querySelectorAll(\".frame\")[t-1].cloneNode(!0);n.classList.contains(\"firstFrame\")&&n.classList.remove(\"firstFrame\"),l.clearRect(0,0,r.width,r.height),n.children[0].innerText=i.children.length,i.insertBefore(n,i.children[i.children.length-1]),u=i.children.length-1,l.drawImage(a[t-1],0,0),d()}(e):e.target.classList.contains(\"deleteIcon\")&&function(e){if(i.children.length>2){const t=Number(e.target.parentElement.children[0].innerText);t===u?a.length===u?f(u-1):a.length>u&&(f(u+1),u-=1):t<u&&(u-=1),i.children[t-1].remove(),a.splice(t-1,1);for(let e=0;e<i.children.length-1;e+=1)i.children[e].classList.contains(\"frame\")&&(i.children[e].children[0].innerText=e+1)}}(e)}),d();const m=document.querySelector(\".FPS\");let h=null;const g=document.querySelector(\".showAnimation\");let y=0;function p(e,t){g.innerHTML=\"\",e[y].classList.contains(\"AnimationImg\")||e[y].classList.add(\"AnimationImg\"),g.appendChild(e[y]),y===e.length-1?!function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n+=1)if(e[n]!==t[n])return!1;return!0}(e,a)||t!==m.value?(y=0,v()):y=0:y+=1}function v(){const e=a.slice();let t=m.value;t<1?t=1:t>24&&(t=24),clearInterval(h),h=window.setInterval(p,1e3/t,e,t)}v(),document.querySelector(\".FullscreenButton\").addEventListener(\"click\",function(){\"\"!==g.innerHTML&&g.requestFullscreen()});const L=document.querySelector(\".size-picker-container\");let S=1,b=L.children[0];L.addEventListener(\"click\",function(e){e.target.parentElement===L&&(S=e.target.attributes[1].value,b.classList.remove(\"selected\"),(b=e.target).classList.add(\"selected\"))});const w=document.querySelector(\".main__pallete__tool-picker\");let q=[];let x=!1,E=0,T=0,_=r.clientWidth/r.width;function k(e){E=e.offsetX,T=e.offsetY}function I(e){k(e),x=!0}function F(e){!0===x&&(P(l,E,T,e.offsetX,e.offsetY),k(e))}function N(e){!0===x&&(P(l,E,T,e.offsetX,e.offsetY),E=0,T=0,x=!1)}function P(e,t,n,r,l){e.beginPath(),e.strokeStyle=c.value,e.lineWidth=S,e.moveTo(t/_,n/_),e.lineTo(r/_,l/_),e.stroke(),e.closePath()}w.addEventListener(\"click\",function(e){if(e.target.parentElement===w)switch(e.target.classList[1]){case\"pen\":r.addEventListener(\"mousedown\",I),r.addEventListener(\"mousemove\",F),r.addEventListener(\"mouseup\",N),q.push([\"mousedown\",I]),q.push([\"mousemove\",F]),q.push([\"mouseup\",N]);break;case\"fillAllPixels\":l.fillStyle=c.value,l.fillRect(0,0,r.width,r.height);break;default:console.log(\"Error\")}});document.querySelector(\".mouseLocation\");document.addEventListener(\"mousemove\",function(){}),document.querySelector(\"frame\"),console.log(\"hello\");document.querySelector(\".main__frames\"),document.querySelector(\".SaveButton\"),document.querySelector(\".addNewFrame\")}]);","extractedComments":[]}