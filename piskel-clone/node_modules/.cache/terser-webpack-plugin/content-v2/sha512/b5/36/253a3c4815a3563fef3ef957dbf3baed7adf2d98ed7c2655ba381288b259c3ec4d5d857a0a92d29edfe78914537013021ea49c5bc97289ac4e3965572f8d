{"code":"!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=2)}([function(e,t,n){},,function(e,t,n){\"use strict\";n.r(t);n(3),n(4),n(5),n(6),n(7),n(0),n(8);const i=document.getElementById(\"canvas\"),r=document.querySelector(\".mainColor\"),o=i.getContext(\"2d\"),c=\"lightgray\";o.fillStyle=c,o.fillRect(0,0,i.width,i.height);const s=document.querySelector(\".main__frames\"),a=document.querySelector(\".addNewFrame\"),l=[];let u=1;const d=JSON.parse(localStorage.getItem(\"stateObject\")),f={},[h,m]=[h,m];function y(){const e=i.toDataURL(),t=new Image;t.src=e,l[u-1]?l[u-1]=t:l.push(t),s.children[u-1].style.backgroundImage=`url(${e})`}function g(e){y();const t=l[e-1];u=e,o.clearRect(0,0,i.width,i.height),o.drawImage(t,0,0)}function v(){y();const e=document.querySelector(\".frame\").cloneNode(!0);e.classList.contains(\"firstFrame\")&&e.classList.remove(\"firstFrame\"),e.children[0].innerText=Number(s.children[s.children.length-2].children[0].innerText)+1,s.insertBefore(e,s.children[s.children.length-1]),u=s.children.length-1,o.clearRect(0,0,i.width,i.height),o.fillStyle=c,o.fillRect(0,0,i.width,i.height),g(u)}function w(e){const t=document.querySelectorAll(\".frame\")[e-1].cloneNode(!0);t.classList.contains(\"firstFrame\")&&t.classList.remove(\"firstFrame\"),o.clearRect(0,0,i.width,i.height),t.children[0].innerText=s.children.length,s.insertBefore(t,s.children[s.children.length-1]),u=s.children.length-1,o.drawImage(l[e-1],0,0),y()}function p(e){if(s.children.length>2){e===u?l.length===u?g(u-1):l.length>u&&(g(u+1),u-=1):e<u&&(u-=1),s.children[e-1].remove(),l.splice(e-1,1);for(let e=0;e<s.children.length-1;e+=1)s.children[e].classList.contains(\"frame\")&&(s.children[e].children[0].innerText=e+1)}}a.addEventListener(\"click\",v),s.addEventListener(\"click\",function(e){e.target.classList.contains(\"numberOfFrame\")?g(Number(e.target.innerText)):e.target.classList.contains(\"frame\")?g(Number(e.target.children[0].innerText)):e.target.classList.contains(\"duplicateIcon\")?w(e.target.parentElement.children[0].innerText):e.target.classList.contains(\"deleteIcon\")&&p(e.target.parentElement.children[0].innerText)}),y();const L=document.querySelector(\".FPS\");let b=null;const k=document.querySelector(\".showAnimation\");let E=0;function S(e,t){k.innerHTML=\"\",e[E].classList.contains(\"AnimationImg\")||e[E].classList.add(\"AnimationImg\"),k.appendChild(e[E]),E===e.length-1?h(e,l)&&t===L.value?E=0:(E=0,B()):E+=1}function B(){const e=l.slice();let t=L.value;t<1?t=1:t>24&&(t=24),clearInterval(b),b=window.setInterval(S,1e3/t,e,t)}B();const I=document.querySelector(\".FullscreenButton\");I.addEventListener(\"click\",function(){\"\"!==k.innerHTML&&k.requestFullscreen()});const P=document.querySelector(\".size-picker-container\");let R=1,T=P.children[0];P.addEventListener(\"click\",function(e){e.target.parentElement===P&&(R=e.target.attributes[1].value,T.classList.remove(\"selected\"),(T=e.target).classList.add(\"selected\"))});const F=document.querySelector(\".main__pallete__tool-picker\"),K=[];let x,M=!1,q=0,A=0,C=i.clientWidth/i.width;function N(e){q=e.offsetX,A=e.offsetY}function O(e){N(e),M=!0}function j(e){!0===M&&(X(o,q,A,e.offsetX,e.offsetY),N(e))}function W(e){!0===M&&(X(o,q,A,e.offsetX,e.offsetY),q=0,A=0,M=!1)}function X(e,t,n,i,o){e.beginPath(),e.strokeStyle=r.value,e.lineWidth=R,e.moveTo(t/C,n/C),e.lineTo(i/C,o/C),e.stroke(),e.closePath()}function Y(){i.addEventListener(\"mousedown\",O),i.addEventListener(\"mousemove\",j),i.addEventListener(\"mouseup\",W),K.push([\"mousedown\",O]),K.push([\"mousemove\",j]),K.push([\"mouseup\",W])}function _(){o.fillStyle=r.value,o.fillRect(0,0,i.width,i.height)}function z(e){N(e),M=!0}function D(e){!0===M&&(G(o,q,A,e.offsetX,e.offsetY),N(e))}function U(e){!0===M&&(G(o,q,A,e.offsetX,e.offsetY),q=0,A=0,M=!1)}function G(e,t,n,i,r){e.beginPath(),e.strokeStyle=c,e.lineWidth=10*R,e.moveTo(t/C,n/C),e.lineTo(i/C,r/C),e.stroke(),e.closePath()}function $(){i.addEventListener(\"mousedown\",z),i.addEventListener(\"mousemove\",D),i.addEventListener(\"mouseup\",U),K.push([\"mousedown\",z]),K.push([\"mousemove\",D]),K.push([\"mouseup\",U])}function Q(e){N(e),M=!0}function H(e){!0===M&&(X(o,q,A,e.offsetX,e.offsetY),M=!1)}function J(){i.addEventListener(\"mousedown\",Q),i.addEventListener(\"mouseup\",H),K.push([\"mousedown\",Q]),K.push([\"mouseup\",H])}function Z(e){N(e),M=!0}function V(e){!0===M&&(!function(e,t,n,i,o){const c=i-t,s=o-n;e.beginPath(),e.strokeStyle=r.value,e.lineWidth=R,e.strokeRect(parseInt(t/C,10),parseInt(n/C,10),parseInt(c/C,10),parseInt(s/C,10)),e.closePath()}(o,q,A,e.offsetX,e.offsetY),M=!1)}function ee(e){!0===M&&(!function(e,t,n,i,o){const c=i-t,s=o-n;e.fillStyle=r.value,e.fillRect(parseInt(t/C,10),parseInt(n/C,10),parseInt(c/C,10),parseInt(s/C,10))}(o,q,A,e.offsetX,e.offsetY),M=!1)}function te(){i.addEventListener(\"mousedown\",Z),i.addEventListener(\"mouseup\",V),K.push([\"mousedown\",Z]),K.push([\"mouseup\",V])}function ne(){i.addEventListener(\"mousedown\",Z),i.addEventListener(\"mouseup\",ee),K.push([\"mousedown\",Z]),K.push([\"mouseup\",ee])}function ie(e){N(e),M=!0}function re(e){!0===M&&(!function(e,t,n,i,o){let c;i<t&&(c=i,i=t,t=c);o<n&&(c=o,o=n,n=c);e.strokeStyle=r.value,e.lineWidth=R,e.beginPath(),e.arc((i+t)/2/C,(o+n)/2/C,(i-t)/2/C,0,2*Math.PI),e.stroke(),e.closePath()}(o,q,A,e.offsetX,e.offsetY),M=!1)}function oe(e){!0===M&&(!function(e,t,n,i,o){let c;i<t&&(c=i,i=t,t=c);o<n&&(c=o,o=n,n=c);e.beginPath(),e.arc((i+t)/2/C,(o+n)/2/C,(i-t)/2/C,0,2*Math.PI),e.fillStyle=r.value,e.fill(),e.closePath()}(o,q,A,e.offsetX,e.offsetY),M=!1)}function ce(){i.addEventListener(\"mousedown\",ie),i.addEventListener(\"mouseup\",re),K.push([\"mousedown\",ie]),K.push([\"mouseup\",re])}function se(){i.addEventListener(\"mousedown\",ie),i.addEventListener(\"mouseup\",oe),K.push([\"mousedown\",ie]),K.push([\"mouseup\",oe])}function ae(e){!0===M&&(!function(e,t,n,i,o){let c=!1;t<i&&(c=!0),e.strokeStyle=r.value,e.lineWidth=R,e.beginPath();const s=Math.abs(o-n)/2,a=s*s/(Math.sqrt((i-t)**2+(o-n)**2)/2),l=Math.sqrt(s*s-a*a),u=Math.acos(l/s);e.arc((i+t)/2/C,(o+n)/2/C,s/C,u,Math.PI+u,c),e.stroke(),e.closePath()}(o,q,A,e.offsetX,e.offsetY),M=!1)}function le(){i.addEventListener(\"mousedown\",ie),i.addEventListener(\"mouseup\",ae),K.push([\"mousedown\",ie]),K.push([\"mouseup\",ae])}function ue(){o.fillStyle=c,o.fillRect(0,0,i.width,i.height)}function de(){for(let e=20*R;e>0;e-=1){const e=20*R,t=m(-e,e),n=m(-e,e);o.fillStyle=r.value,o.fillRect((q+t)/C,(A+n)/C,1,1)}}function fe(e){N(e),M=!0,o.lineCap=\"round\",o.lineJoin=\"round\",x=setInterval(de,50)}function he(e){!0===M&&N(e)}function me(){!0===M&&(clearInterval(x),M=!1)}function ye(){i.addEventListener(\"mousedown\",fe),i.addEventListener(\"mousemove\",he),i.addEventListener(\"mouseup\",me),K.push([\"mousedown\",fe]),K.push([\"mousemove\",he]),K.push([\"mouseup\",me])}F.addEventListener(\"click\",function(e){if(e.target.parentElement===F)switch(K.forEach(e=>{i.removeEventListener(e[0],e[1])}),e.target.classList[1]){case\"pen\":Y();break;case\"fillAllPixels\":_();break;case\"eraser\":$();break;case\"stroke\":J();break;case\"rectange\":te();break;case\"filledRectange\":ne();break;case\"circle\":ce();break;case\"filledCircle\":se();break;case\"halfCircle\":le();break;case\"clear\":ue();break;case\"spray\":ye()}});const ge=document.querySelector(\".canvas-size-container\");let ve=32,we=ge.children[0];function pe(e){ve=e,i.width=ve,i.height=ve,C=i.clientWidth/i.width,o.fillStyle=c,o.fillRect(0,0,i.width,i.height),o.drawImage(l[u-1],0,0),y(),function(){o.fillStyle=c;const e=u;for(let e=0;e<l.length;e+=1){const t=l[e];u=e+1,o.fillRect(0,0,i.width,i.height),o.drawImage(t,0,0),y()}g(e)}(),o.fillRect(0,0,i.width,i.height)}document.onresize=function(){C=i.clientWidth/i.width},ge.addEventListener(\"click\",function(e){e.target.parentElement===ge&&(we.classList.remove(\"selected\"),(we=e.target).classList.add(\"selected\")),pe(e.target.attributes[1].value)}),window.addEventListener(\"unload\",function(){f.imgs=[],l.forEach(e=>{f.imgs.push(e.src)}),f.penSize=String(R),f.currentCanvasSize=String(ve),localStorage.removeItem(\"stateObject\"),localStorage.setItem(\"stateObject\",JSON.stringify(f))}),window.addEventListener(\"load\",function(){switch(T.classList.remove(\"selected\"),we.classList.remove(\"selected\"),d.penSize){case\"1\":T=P.children[0],R=1,T.classList.add(\"selected\");break;case\"2\":T=P.children[1],R=2,T.classList.add(\"selected\");break;case\"3\":T=P.children[2],R=3,T.classList.add(\"selected\");break;case\"4\":T=P.children[3],R=4,T.classList.add(\"selected\");break;default:T=P.children[0],R=1,T.classList.add(\"selected\")}switch(d.currentCanvasSize){case\"32\":(we=ge.children[0]).classList.add(\"selected\");break;case\"64\":(we=ge.children[1]).classList.add(\"selected\"),i.width=64,i.height=64;break;case\"128\":(we=ge.children[2]).classList.add(\"selected\"),i.width=128,i.height=128;break;default:(we=ge.children[0]).classList.add(\"selected\")}C=i.clientWidth/i.width,o.fillStyle=c,o.fillRect(0,0,i.width,i.height)});const Le=document.querySelector(\".coords\");i.addEventListener(\"mousemove\",function(e){Le.innerText=`[${ve}x${ve}] ${parseInt(e.offsetX/C,10)}:${parseInt(e.offsetY/C,10)}`});const be=document.querySelector(\".downloadButton\");be.addEventListener(\"click\",function(){const e=new GIFEncoder;e.setRepeat(0),e.setDelay(1e3/L.value),e.start();const t=document.createElement(\"canvas\");t.width=ve,t.height=ve;const n=t.getContext(\"2d\");for(let t=0;t<l.length;t+=1)n.clearRect(0,0,i.width,i.height),n.drawImage(l[t],0,0),e.addFrame(n);e.finish(),e.download(\"download.gif\")}),document.onkeyup=function(e){\"KeyP\"===e.code?Y():e.shiftKey&&\"KeyN\"===e.code?w(u):e.shiftKey&&\"KeyB\"===e.code?p(u):e.shiftKey&&\"Equal\"===e.code?32==ve?ge.children[1].click():64==ve&&ge.children[2].click():e.shiftKey&&\"Minus\"===e.code?64==ve?ge.children[0].click():128==ve&&ge.children[1].click():\"BracketRight\"===e.code?1==R?P.children[1].click():2==R?P.children[2].click():3==R&&P.children[3].click():\"BracketLeft\"===e.code?2==R?P.children[0].click():3==R?P.children[1].click():4==R&&P.children[2].click():e.ctrlKey&&\"KeyS\"===e.code?be.click():e.ctrlKey&&\"KeyF\"===e.code?I.click():\"ArrowUp\"===e.code&&u<s.children.length-1?g(u+1):\"ArrowDown\"===e.code&&u>1?g(u-1):\"KeyF\"===e.code?_():\"KeyE\"===e.code?$():\"KeyS\"===e.code?ye():\"KeyT\"===e.code?J():\"KeyR\"===e.code?te():\"KeyG\"===e.code?ne():\"KeyA\"===e.code?ce():\"KeyD\"===e.code?se():\"KeyH\"===e.code?le():\"KeyC\"===e.code?ue():\"KeyN\"===e.code&&v()}},function(e,t){GIFEncoder=function(){for(var e=0,t={};e<256;e++)t[e]=String.fromCharCode(e);function n(){this.bin=[]}n.prototype.getData=function(){for(var e=\"\",n=this.bin.length,i=0;i<n;i++)e+=t[this.bin[i]];return e},n.prototype.writeByte=function(e){this.bin.push(e)},n.prototype.writeUTFBytes=function(e){for(var t=e.length,n=0;n<t;n++)this.writeByte(e.charCodeAt(n))},n.prototype.writeBytes=function(e,t,n){for(var i=n||e.length,r=t||0;r<i;r++)this.writeByte(e[r])};var i,r,o,c,s,a,l,u,d,f={},h=null,m=-1,y=0,g=!1,v=[],w=7,p=-1,L=!1,b=!0,k=!1,E=10,S=\"Generated by jsgif (https://github.com/antimatter15/jsgif/)\",B=(f.setDelay=function(e){y=Math.round(e/10)},f.setDispose=function(e){e>=0&&(p=e)},f.setRepeat=function(e){e>=0&&(m=e)},f.setTransparent=function(e){h=e},f.setComment=function(e){S=e},f.addFrame=function(e,t){if(null===e||!g||null===c)throw new Error(\"Please call start method before calling addFrame\");var n=!0;try{t?e instanceof ImageData?(s=e.data,sizeset&&i==e.width&&r==e.height||I(e.width,e.height)):e instanceof Uint8ClampedArray?e.length==i*r*4?s=e:(console.log(\"Please set the correct size: ImageData length mismatch\"),n=!1):(console.log(\"Please provide correct input\"),n=!1):(s=e.getImageData(0,0,e.canvas.width,e.canvas.height).data,k||I(e.canvas.width,e.canvas.height)),T(),P(),b&&(M(),A(),m>=0&&q()),F(),\"\"!==S&&K(),x(),b||A(),N(),b=!1}catch(e){n=!1}return n},f.download=function(e){if(null===c||0==L)console.log(\"Please call start method and add frames and call finish method before calling download\");else{e=void 0!==e?e.endsWith(\".gif\")?e:e+\".gif\":\"download.gif\";var t=document.createElement(\"a\");t.download=e,t.href=URL.createObjectURL(new Blob([new Uint8Array(c.bin)],{type:\"image/gif\"})),t.click()}},f.finish=function(){if(!g)return!1;var e=!0;g=!1;try{c.writeByte(59),L=!0}catch(t){e=!1}return e},function(){o=0,s=null,a=null,l=null,d=null,L=!1,b=!0}),I=(f.setFrameRate=function(e){15!=e&&(y=Math.round(100/e))},f.setQuality=function(e){e<1&&(e=1),E=e},f.setSize=function(e,t){g&&!b||((i=e)<1&&(i=320),(r=t)<1&&(r=240),k=!0)}),P=(f.start=function(){B();var e=!0;L=!1,c=new n;try{c.writeUTFBytes(\"GIF89a\")}catch(t){e=!1}return g=e},f.cont=function(){B();return L=!1,c=new n,g=!0},function(){var e=a.length,t=e/3;l=[];var n=new NeuQuant(a,e,E);d=n.process();for(var i=0,r=0;r<t;r++){var c=n.map(255&a[i++],255&a[i++],255&a[i++]);v[c]=!0,l[r]=c}a=null,u=8,w=7,null!==h&&(o=R(h))}),R=function(e){if(null===d)return-1;for(var t=(16711680&e)>>16,n=(65280&e)>>8,i=255&e,r=0,o=16777216,c=d.length,s=0;s<c;){var a=t-(255&d[s++]),l=n-(255&d[s++]),u=i-(255&d[s]),f=a*a+l*l+u*u,h=s/3;v[h]&&f<o&&(o=f,r=h),s++}return r},T=function(){var e=i,t=r;a=[];for(var n=s,o=0,c=0;c<t;c++)for(var l=0;l<e;l++){var u=c*e*4+4*l;a[o++]=n[u],a[o++]=n[u+1],a[o++]=n[u+2]}},F=function(){var e,t;c.writeByte(33),c.writeByte(249),c.writeByte(4),null===h?(e=0,t=0):(e=1,t=2),p>=0&&(t=7&p),t<<=2,c.writeByte(0|t|e),C(y),c.writeByte(o),c.writeByte(0)},K=function(){c.writeByte(33),c.writeByte(254),c.writeByte(S.length),c.writeUTFBytes(S),c.writeByte(0)},x=function(){c.writeByte(44),C(0),C(0),C(i),C(r),b?c.writeByte(0):c.writeByte(128|w)},M=function(){C(i),C(r),c.writeByte(240|w),c.writeByte(0),c.writeByte(0)},q=function(){c.writeByte(33),c.writeByte(255),c.writeByte(11),c.writeUTFBytes(\"NETSCAPE2.0\"),c.writeByte(3),c.writeByte(1),C(m),c.writeByte(0)},A=function(){c.writeBytes(d);for(var e=768-d.length,t=0;t<e;t++)c.writeByte(0)},C=function(e){c.writeByte(255&e),c.writeByte(e>>8&255)},N=function(){new LZWEncoder(i,r,l,u).encode(c)};f.stream=function(){return c},f.setProperties=function(e,t){g=e,b=t};return f}},function(e,t){LZWEncoder=function(){var e,t,n,i,r,o,c,s,a,l,u,d,f={},h=[],m=[],y=0,g=!1,v=0,w=0,p=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],L=[],b=f.LZWEncoder=function(r,o,c,s){e=r,t=o,n=c,i=Math.max(2,s)},k=function(e,t){L[d++]=e,d>=254&&I(t)},E=function(e){S(5003),y=l+2,g=!0,T(l,e)},S=function(e){for(var t=0;t<e;++t)h[t]=-1},B=f.compress=function(e,t){var n,i,r,o,f,v;for(g=!1,s=P(c=a=e),u=(l=1<<e-1)+1,y=l+2,d=0,o=R(),v=0,n=5003;n<65536;n*=2)++v;v=8-v,S(5003),T(l,t);e:for(;-1!=(r=R());)if(n=(r<<12)+o,h[i=r<<v^o]!=n){if(h[i]>=0){f=5003-i,0===i&&(f=1);do{if((i-=f)<0&&(i+=5003),h[i]==n){o=m[i];continue e}}while(h[i]>=0)}T(o,t),o=r,y<4096?(m[i]=y++,h[i]=n):E(t)}else o=m[i];T(o,t),T(u,t)},I=(f.encode=function(n){n.writeByte(i),r=e*t,o=0,B(i+1,n),n.writeByte(0)},function(e){d>0&&(e.writeByte(d),e.writeBytes(L,0,d),d=0)}),P=function(e){return(1<<e)-1},R=function(){return 0===r?-1:(--r,255&n[o++])},T=function(e,t){for(v&=p[w],w>0?v|=e<<w:v=e,w+=c;w>=8;)k(255&v,t),v>>=8,w-=8;if((y>s||g)&&(g?(s=P(c=a),g=!1):s=12==++c?4096:P(c)),e==u){for(;w>0;)k(255&v,t),v>>=8,w-=8;I(t)}};return b.apply(this,arguments),f}},function(e,t){NeuQuant=function(){var e,t,n,i,r,o={},c=[],s=[],a=[],l=[],u=o.NeuQuant=function(e,o,c){var l,u;for(t=e,n=o,i=c,r=new Array(256),l=0;l<256;l++)r[l]=new Array(4),(u=r[l])[0]=u[1]=u[2]=(l<<12)/256,a[l]=256,s[l]=0},d=(o.map=function(e,t,n){var i,o,s,a,l,u,d;for(l=1e3,d=-1,o=(i=c[t])-1;i<256||o>=0;)i<256&&((s=(u=r[i])[1]-t)>=l?i=256:(i++,s<0&&(s=-s),(a=u[0]-e)<0&&(a=-a),(s+=a)<l&&((a=u[2]-n)<0&&(a=-a),(s+=a)<l&&(l=s,d=u[3])))),o>=0&&((s=t-(u=r[o])[1])>=l?o=-1:(o--,s<0&&(s=-s),(a=u[0]-e)<0&&(a=-a),(s+=a)<l&&((a=u[2]-n)<0&&(a=-a),(s+=a)<l&&(l=s,d=u[3]))));return d},o.process=function(){return function(){var r,o,c,s,a,u,d,y,g,v,w,p,L,b;for(n<1509&&(i=1),e=30+(i-1)/3,p=t,L=0,b=n,v=(w=n/(3*i))/100|0,y=1024,(d=(u=2048)>>6)<=1&&(d=0),r=0;r<d;r++)l[r]=y*(256*(d*d-r*r)/(d*d));for(g=n<1509?3:n%499!=0?1497:n%491!=0?1473:n%487!=0?1461:1509,r=0;r<w;)if(c=(255&p[L+0])<<4,s=(255&p[L+1])<<4,a=(255&p[L+2])<<4,o=m(c,s,a),h(y,o,c,s,a),0!==d&&f(d,o,c,s,a),(L+=g)>=b&&(L-=n),0===v&&(v=1),++r%v==0)for(y-=y/e,(d=(u-=u/30)>>6)<=1&&(d=0),o=0;o<d;o++)l[o]=y*(256*(d*d-o*o)/(d*d))}(),d(),function(){var e,t,n,i,o,s,a,l;for(a=0,l=0,e=0;e<256;e++){for(n=e,i=(o=r[e])[1],t=e+1;t<256;t++)(s=r[t])[1]<i&&(n=t,i=s[1]);if(s=r[n],e!=n&&(t=s[0],s[0]=o[0],o[0]=t,t=s[1],s[1]=o[1],o[1]=t,t=s[2],s[2]=o[2],o[2]=t,t=s[3],s[3]=o[3],o[3]=t),i!=a){for(c[a]=l+e>>1,t=a+1;t<i;t++)c[t]=e;a=i,l=e}}for(c[a]=l+255>>1,t=a+1;t<256;t++)c[t]=255}(),function(){for(var e=[],t=new Array(256),n=0;n<256;n++)t[r[n][3]]=n;for(var i=0,o=0;o<256;o++){var c=t[o];e[i++]=r[c][0],e[i++]=r[c][1],e[i++]=r[c][2]}return e}()},function(){var e;for(e=0;e<256;e++)r[e][0]>>=4,r[e][1]>>=4,r[e][2]>>=4,r[e][3]=e}),f=function(e,t,n,i,o){var c,s,a,u,d,f,h;for((a=t-e)<-1&&(a=-1),(u=t+e)>256&&(u=256),c=t+1,s=t-1,f=1;c<u||s>a;){if(d=l[f++],c<u){h=r[c++];try{h[0]-=d*(h[0]-n)/(1<<18),h[1]-=d*(h[1]-i)/(1<<18),h[2]-=d*(h[2]-o)/(1<<18)}catch(e){}}if(s>a){h=r[s--];try{h[0]-=d*(h[0]-n)/(1<<18),h[1]-=d*(h[1]-i)/(1<<18),h[2]-=d*(h[2]-o)/(1<<18)}catch(e){}}}},h=function(e,t,n,i,o){var c=r[t];c[0]-=e*(c[0]-n)/1024,c[1]-=e*(c[1]-i)/1024,c[2]-=e*(c[2]-o)/1024},m=function(e,t,n){var i,o,c,l,u,d,f,h,m,y;for(m=h=~(1<<31),f=d=-1,i=0;i<256;i++)(o=(y=r[i])[0]-e)<0&&(o=-o),(c=y[1]-t)<0&&(c=-c),o+=c,(c=y[2]-n)<0&&(c=-c),(o+=c)<h&&(h=o,d=i),(l=o-(s[i]>>12))<m&&(m=l,f=i),u=a[i]>>10,a[i]-=u,s[i]+=u<<10;return a[d]+=64,s[d]-=65536,f};return u.apply(this,arguments),o}},function(e,t){},function(e,t){e.exports.areArraysEqual=function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n+=1)if(e[n]!==t[n])return!1;return!0},e.exports.getRandomInt=function(e,t){return Math.floor(Math.random()*(t-e+1))+e}},function(e,t,n){}]);","extractedComments":[]}